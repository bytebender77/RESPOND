<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RESPOND â€” Dashboard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://code.iconify.design/iconify-icon/1.0.8/iconify-icon.min.js"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Oswald:wght@300;400;500&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <!-- Background -->
    <div class="fixed inset-0 -z-30 pointer-events-none">
        <div
            class="absolute inset-0 opacity-10 bg-[linear-gradient(rgba(255,255,255,0.05)_1px,transparent_1px),linear-gradient(90deg,rgba(255,255,255,0.05)_1px,transparent_1px)] bg-[size:3rem_3rem]">
        </div>
        <div class="absolute -top-[10%] -left-[10%] h-[55%] w-[55%] rounded-full bg-red-900/15 blur-3xl"></div>
        <div class="absolute -bottom-[10%] -right-[10%] h-[55%] w-[55%] rounded-full bg-orange-900/10 blur-3xl"></div>
    </div>

    <!-- Top Navigation -->
    <nav class="fixed top-0 left-0 right-0 z-50 bg-black/80 backdrop-blur-xl border-b border-white/10">
        <div class="max-w-[1600px] mx-auto px-6 py-3 flex items-center justify-between">
            <a href="landing.html" class="flex items-center gap-3">
                <div
                    class="w-10 h-10 rounded-xl bg-gradient-to-br from-red-600 to-red-700 flex items-center justify-center text-white text-xl shadow-lg shadow-red-500/20">
                    ðŸš¨</div>
                <div>
                    <span class="text-lg font-semibold block" style="font-family:Oswald;">RESPOND</span>
                    <span class="text-[10px] text-gray-400">Command Dashboard</span>
                </div>
            </a>
            <div class="hidden md:flex items-center gap-6">
                <a href="features.html" class="text-xs text-gray-400 hover:text-white">Features</a>
                <a href="architecture.html" class="text-xs text-gray-400 hover:text-white">Architecture</a>
                <a href="demo.html" class="text-xs text-gray-400 hover:text-white">Demo</a>
                <a href="tech.html" class="text-xs text-gray-400 hover:text-white">Tech Stack</a>
            </div>
            <div class="flex items-center gap-4">
                <div class="status-badge">
                    <span class="status-dot"></span>
                    <span>Qdrant Online</span>
                </div>
                <div class="last-ingest" id="lastIngestTime">Last: --</div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="main-container pt-20">
        <!-- Left Panel: Ingest Form -->
        <section class="panel left-panel">
            <h2><iconify-icon icon="solar:upload-linear" class="text-green-400"></iconify-icon> Ingest Incident</h2>
            <form id="ingestForm" class="form">
                <div class="form-group">
                    <label for="text">Incident Description</label>
                    <textarea id="text" placeholder="Describe the incident..." required></textarea>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="source_type">Source</label>
                        <select id="source_type" required>
                            <option value="social">Social</option>
                            <option value="sensor">Sensor</option>
                            <option value="call">Call</option>
                            <option value="report">Report</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="urgency">Urgency</label>
                        <select id="urgency" required>
                            <option value="critical">Critical</option>
                            <option value="high">High</option>
                            <option value="medium" selected>Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="status">Status</label>
                        <select id="status">
                            <option value="pending" selected>Pending</option>
                            <option value="acknowledged">Acknowledged</option>
                            <option value="resolved">Resolved</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="zone_id">Zone ID</label>
                        <input type="text" id="zone_id" placeholder="zone-1" value="zone-1">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="lat">Latitude</label>
                        <input type="number" id="lat" step="0.0001" value="28.6139">
                    </div>
                    <div class="form-group">
                        <label for="lon">Longitude</label>
                        <input type="number" id="lon" step="0.0001" value="77.2090">
                    </div>
                </div>
                <button type="submit" class="btn btn-primary">
                    <iconify-icon icon="solar:upload-linear"></iconify-icon> Submit Incident
                </button>
            </form>
            <div id="ingestResult" class="result-box"></div>
        </section>

        <!-- Right Panel: Search & Results -->
        <section class="panel right-panel">
            <h2><iconify-icon icon="solar:magnifer-linear" class="text-blue-400"></iconify-icon> Search Incidents</h2>
            <form id="searchForm" class="form">
                <div class="form-group">
                    <label for="query">Search Query</label>
                    <input type="text" id="query" placeholder="e.g., fire emergency trapped..." required>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="search_last_hours">Last Hours</label>
                        <input type="number" id="search_last_hours" value="24">
                    </div>
                    <div class="form-group">
                        <label for="search_limit">Limit</label>
                        <input type="number" id="search_limit" value="10">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="search_urgency">Urgency</label>
                        <select id="search_urgency">
                            <option value="">All</option>
                            <option value="critical">Critical</option>
                            <option value="high">High</option>
                            <option value="medium">Medium</option>
                            <option value="low">Low</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="search_status">Status</label>
                        <select id="search_status">
                            <option value="">All</option>
                            <option value="pending">Pending</option>
                            <option value="acknowledged">Acknowledged</option>
                            <option value="resolved">Resolved</option>
                        </select>
                    </div>
                </div>
                <div class="btn-group">
                    <button type="submit" class="btn btn-primary">
                        <iconify-icon icon="solar:magnifer-linear"></iconify-icon> Search
                    </button>
                    <button type="button" id="recommendBtn" class="btn btn-secondary">
                        <iconify-icon icon="solar:target-linear"></iconify-icon> Recommend Actions
                    </button>
                </div>
            </form>

            <!-- Results Header -->
            <div class="results-header" id="resultsHeader" style="display: none;">
                <h3 id="resultsTitle">0 incidents found</h3>
                <select class="sort-select" id="sortSelect">
                    <option value="final_score">Sort by: Relevance</option>
                    <option value="confidence_score">Sort by: Confidence</option>
                    <option value="age_seconds">Sort by: Newest</option>
                </select>
            </div>

            <!-- Results Section -->
            <div id="resultsContainer" class="results-container">
                <div class="empty-state">
                    <iconify-icon icon="solar:magnifer-linear" width="48" class="opacity-30"></iconify-icon>
                    <p>Enter a search query to find incidents</p>
                </div>
            </div>

            <!-- Actions Section -->
            <div id="actionsSection" class="actions-section hidden">
                <h3><iconify-icon icon="solar:target-linear" class="text-cyan-400"></iconify-icon> Recommended Actions
                </h3>
                <div id="actionsContainer" class="actions-container"></div>
            </div>
        </section>
    </main>

    <script src="app.js"></script>
</body>

</html>